{"ast":null,"code":"import React from 'react';\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport { IconButton, DataTable } from 'react-native-paper';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar MealListItemComponent = function MealListItemComponent(_ref) {\n  var meals = _ref.meals,\n      setMeals = _ref.setMeals,\n      setMeal = _ref.setMeal,\n      setShowUpdateMeal = _ref.setShowUpdateMeal,\n      setUpdateMealIndex = _ref.setUpdateMealIndex,\n      updateDiary = _ref.updateDiary;\n\n  var countCalories = function countCalories(weight, carbs, fat, protein) {\n    return weight / 100 * (carbs * 4 + fat * 9 + protein * 4);\n  };\n\n  var removeMealAlert = function removeMealAlert(indexPassed, mealName) {\n    Alert.alert(\"Delete \" + mealName, \"Are you sure you want to delete \" + mealName, [{\n      text: 'Yes',\n      onPress: function onPress() {\n        return removeMeal(indexPassed);\n      }\n    }, {\n      text: \"No\"\n    }]);\n  };\n\n  var removeMeal = function removeMeal(indexPassed) {\n    var newMeals = meals.filter(function (element, index) {\n      return index != indexPassed;\n    });\n    updateDiary(newMeals);\n  };\n\n  return _jsxs(DataTable, {\n    children: [_jsxs(DataTable.Header, {\n      children: [_jsx(DataTable.Title, {\n        children: \"Meal\"\n      }), _jsx(DataTable.Title, {\n        numeric: true,\n        children: \"Protein\"\n      }), _jsx(DataTable.Title, {\n        numeric: true,\n        children: \"Calories\"\n      }), _jsx(DataTable.Title, {\n        numeric: true,\n        children: \"Remove\"\n      })]\n    }), meals.map(function (meal, index) {\n      return _jsx(TouchableOpacity, {\n        onPress: function onPress() {\n          setShowUpdateMeal(true);\n          setMeal({\n            name: meal.name,\n            weight: meal.weight,\n            carbs: meal.carbs,\n            fat: meal.fat,\n            protein: meal.protein\n          });\n          setUpdateMealIndex(index);\n        },\n        children: _jsxs(DataTable.Row, {\n          children: [_jsx(DataTable.Cell, {\n            children: meal.name\n          }), _jsx(DataTable.Cell, {\n            numeric: true,\n            children: (meal.protein * meal.weight / 100).toFixed()\n          }), _jsx(DataTable.Cell, {\n            numeric: true,\n            children: countCalories(meal.weight, meal.carbs, meal.fat, meal.protein).toFixed()\n          }), _jsx(DataTable.Cell, {\n            numeric: true,\n            children: _jsx(IconButton, {\n              icon: \"delete-outline\",\n              color: \"darkviolet\",\n              onPress: function onPress(e) {\n                e.stopPropagation();\n                removeMealAlert(index, meal.name);\n              }\n            })\n          })]\n        })\n      }, index);\n    })]\n  });\n};\n\nexport default MealListItemComponent;","map":{"version":3,"names":["React","IconButton","DataTable","MealListItemComponent","meals","setMeals","setMeal","setShowUpdateMeal","setUpdateMealIndex","updateDiary","countCalories","weight","carbs","fat","protein","removeMealAlert","indexPassed","mealName","Alert","alert","text","onPress","removeMeal","newMeals","filter","element","index","map","meal","name","toFixed","e","stopPropagation"],"sources":["/home/dzony/Documents/Site/calorienotes/mobileclient/components/meallistitem.tsx"],"sourcesContent":["import React, { useState } from 'react'\r\nimport { Alert, TouchableOpacity } from 'react-native'\r\nimport { IconButton, DataTable } from 'react-native-paper';\r\n\r\nimport { Meal } from '../screens/homescreen'\r\n\r\ninterface Props {\r\n    meals: Meal[],\r\n    setMeals: React.Dispatch<React.SetStateAction<Meal[]>>,\r\n    setMeal: React.Dispatch<React.SetStateAction<Meal>>,\r\n    setShowUpdateMeal:  React.Dispatch<React.SetStateAction<boolean>>,\r\n    setUpdateMealIndex: React.Dispatch<React.SetStateAction<number | undefined>>,\r\n    updateDiary: (passedMeals?: Meal[], passedNote?: string) => void,\r\n}\r\n\r\nconst MealListItemComponent:React.FC<Props> = (\r\n    {\r\n        meals, \r\n        setMeals, \r\n        setMeal, \r\n        setShowUpdateMeal, \r\n        setUpdateMealIndex, \r\n        updateDiary\r\n    }) => {\r\n\r\n    const countCalories = (weight:number, carbs:number, fat:number, protein:number) => {\r\n        return (weight / 100 * (carbs * 4 + fat * 9 + protein * 4))\r\n    }\r\n\r\n    const removeMealAlert = (indexPassed: number, mealName: string) => {\r\n        Alert.alert(`Delete ${mealName}`,`Are you sure you want to delete ${mealName}`,\r\n        [\r\n            {\r\n                text:'Yes',\r\n                onPress: () => removeMeal(indexPassed)\r\n            },\r\n            {\r\n                text: \"No\",\r\n            },\r\n        ],\r\n        );\r\n    }\r\n\r\n    const removeMeal = (indexPassed: number) => {\r\n        let newMeals:Meal[] = meals.filter((element,index) => index != indexPassed);\r\n        updateDiary(newMeals);\r\n    }\r\n\r\n    return(\r\n        <DataTable>\r\n            <DataTable.Header>\r\n                <DataTable.Title>Meal</DataTable.Title>\r\n                <DataTable.Title numeric>Protein</DataTable.Title>\r\n                <DataTable.Title numeric>Calories</DataTable.Title>\r\n                <DataTable.Title numeric>Remove</DataTable.Title>\r\n            </DataTable.Header>\r\n\r\n            {meals.map((meal, index) => (\r\n                <TouchableOpacity key={index} onPress={() => {\r\n                    setShowUpdateMeal(true);\r\n                    setMeal({\r\n                        name: meal.name,\r\n                        weight: meal.weight,\r\n                        carbs: meal.carbs,\r\n                        fat: meal.fat,\r\n                        protein: meal.protein\r\n                    });\r\n                    setUpdateMealIndex(index);\r\n                }}>\r\n                    <DataTable.Row>\r\n                        <DataTable.Cell>{meal.name}</DataTable.Cell>\r\n                        <DataTable.Cell numeric>{(meal.protein * meal.weight/100).toFixed()}</DataTable.Cell>\r\n                        <DataTable.Cell numeric>{countCalories(meal.weight,meal.carbs,meal.fat,meal.protein).toFixed()}</DataTable.Cell>\r\n                        <DataTable.Cell numeric>\r\n                            <IconButton \r\n                                icon='delete-outline'\r\n                                color='darkviolet'\r\n                                onPress={(e) => {\r\n                                    e.stopPropagation();\r\n                                    removeMealAlert(index,meal.name);\r\n                                }}\r\n                            />\r\n                        </DataTable.Cell>\r\n                    </DataTable.Row>\r\n                </TouchableOpacity>\r\n            ))}\r\n        </DataTable>\r\n    )\r\n}\r\n\r\nexport default MealListItemComponent"],"mappings":"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"},"metadata":{},"sourceType":"module"}