{"ast":null,"code":"import React from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport { Appbar, Text, IconButton } from 'react-native-paper';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar BottomBarComponent = function BottomBarComponent(_ref) {\n  var meals = _ref.meals,\n      setShowSettings = _ref.setShowSettings,\n      targetCalories = _ref.targetCalories,\n      targetProtein = _ref.targetProtein;\n\n  var countTotalMacro = function countTotalMacro(field) {\n    var total = 0;\n    meals && meals.forEach(function (element) {\n      return total += Number(element[field]) * element.weight / 100;\n    });\n    return total.toFixed();\n  };\n\n  var countTotalCalories = meals.reduce(function (total, meal) {\n    return total + meal.weight / 100 * (meal.carbs * 4 + meal.fat * 9 + meal.protein * 4);\n  }, 0);\n  return _jsxs(Appbar, {\n    style: styles.barView,\n    children: [_jsx(View, {\n      style: styles.totalView,\n      children: _jsx(IconButton, {\n        icon: \"cog-outline\",\n        color: \"darkviolet\",\n        onPress: function onPress() {\n          return setShowSettings(true);\n        }\n      })\n    }), _jsxs(View, {\n      style: styles.totalView,\n      children: [_jsx(Text, {\n        children: \"Carbs\"\n      }), _jsx(Text, {\n        children: countTotalMacro('carbs')\n      })]\n    }), _jsxs(View, {\n      style: styles.totalView,\n      children: [_jsx(Text, {\n        children: \"Fat\"\n      }), _jsx(Text, {\n        children: countTotalMacro('fat')\n      })]\n    }), _jsxs(View, {\n      style: styles.totalView,\n      children: [_jsx(Text, {\n        style: Number(countTotalMacro('protein')) < targetCalories ? styles.redFont : styles.greenFont,\n        children: \"Protein\"\n      }), _jsxs(Text, {\n        style: Number(countTotalMacro('protein')) < targetCalories ? styles.redFont : styles.greenFont,\n        children: [countTotalMacro('protein'), \" / \", targetProtein]\n      })]\n    }), _jsxs(View, {\n      style: styles.totalView,\n      children: [_jsx(Text, {\n        style: countTotalCalories > targetCalories ? styles.redFont : styles.greenFont,\n        children: \"Total Calories\"\n      }), _jsxs(Text, {\n        style: countTotalCalories > targetCalories ? styles.redFont : styles.greenFont,\n        children: [countTotalCalories, \" / \", targetCalories]\n      })]\n    })]\n  });\n};\n\nexport default BottomBarComponent;\nvar styles = StyleSheet.create({\n  barView: {\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'space-between'\n  },\n  totalView: {\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'center'\n  },\n  redFont: {\n    color: 'red'\n  },\n  greenFont: {\n    color: 'green'\n  }\n});","map":{"version":3,"sources":["/home/dzony/Documents/Site/calorienotes/mobileclient/components/bottombar.tsx"],"names":["React","Appbar","Text","IconButton","BottomBarComponent","meals","setShowSettings","targetCalories","targetProtein","countTotalMacro","field","total","forEach","element","Number","weight","toFixed","countTotalCalories","reduce","meal","carbs","fat","protein","styles","barView","totalView","redFont","greenFont","StyleSheet","create","display","flexDirection","justifyContent","color"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\r\nimport { View, StyleSheet } from 'react-native'\r\nimport { Appbar, Text, IconButton } from 'react-native-paper';\r\n\r\nimport { Meal } from '../screens/homescreen';\r\ninterface Props {\r\n    meals: Meal[],\r\n    setShowSettings: React.Dispatch<React.SetStateAction<boolean>>,\r\n    targetCalories: Number,\r\n    targetProtein: Number\r\n}\r\nconst BottomBarComponent: React.FC<Props> = ({meals, setShowSettings, targetCalories, targetProtein}) => {\r\n\r\n    const countTotalMacro = (field:string) => {\r\n        let total = 0;\r\n        meals && meals.forEach(element => total += (Number(element[field as keyof Meal]) * element.weight/100) );\r\n        return total.toFixed()\r\n    };\r\n    const countTotalCalories = meals.reduce((total, meal) => {\r\n            return total + (meal.weight / 100 * (meal.carbs * 4 + meal.fat * 9 + meal.protein * 4))\r\n        }, 0);\r\n\r\n    return(\r\n        <Appbar style={styles.barView}>\r\n            <View style={styles.totalView}>\r\n                <IconButton \r\n                    icon='cog-outline'\r\n                    color='darkviolet'\r\n                    onPress={() => setShowSettings(true)}\r\n                />\r\n            </View>\r\n            <View style={styles.totalView}>\r\n                <Text>\r\n                    Carbs\r\n                </Text>\r\n                <Text>\r\n                    {countTotalMacro('carbs')}\r\n                </Text>\r\n            </View>\r\n            <View style={styles.totalView}>\r\n                <Text>\r\n                    Fat\r\n                </Text>\r\n                <Text>\r\n                    {countTotalMacro('fat')}\r\n                </Text>\r\n            </View>\r\n            <View style={styles.totalView}>\r\n                <Text style={Number(countTotalMacro('protein')) < targetCalories ? styles.redFont : styles.greenFont}>\r\n                    Protein\r\n                </Text>\r\n                <Text style={Number(countTotalMacro('protein')) < targetCalories ? styles.redFont : styles.greenFont}>\r\n                    {countTotalMacro('protein')} / {targetProtein}\r\n                </Text>\r\n            </View>\r\n            <View style={styles.totalView}>\r\n                <Text style={countTotalCalories > targetCalories ? styles.redFont : styles.greenFont}>\r\n                    Total Calories\r\n                </Text>\r\n                <Text style={countTotalCalories > targetCalories ? styles.redFont : styles.greenFont}>\r\n                    {countTotalCalories} / {targetCalories}\r\n                </Text>\r\n            </View>\r\n        </Appbar>\r\n    );\r\n};\r\n\r\nexport default BottomBarComponent\r\n\r\nconst styles = StyleSheet.create({\r\n    barView: {\r\n        display: 'flex',\r\n        flexDirection: 'row',\r\n        justifyContent: 'space-between'\r\n    },\r\n    totalView: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        justifyContent: 'center',\r\n    },\r\n    redFont: {\r\n        color: 'red'\r\n    },\r\n    greenFont: {\r\n        color: 'green'\r\n    }\r\n})"]},"metadata":{},"sourceType":"module"}